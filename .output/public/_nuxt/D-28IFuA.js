import{d as k,x as p,y as i,z as e,A as s,V as N,r as o,k as S,o as M,B as _,C as T,T as A,M as I,N as V,_ as q}from"./BzQlD_xP.js";import{u as D}from"./AebXkaNM.js";import{u as E}from"./CkUdmUOO.js";import{R as F}from"./ChmgiqiM.js";const z={class:"w-full max-w-md bg-white rounded-2xl shadow-lg p-8 text-center"},P={class:"text-2xl font-bold mb-2"},G={class:"text-lg text-gray-700 mb-4"},H={class:"mb-2"},J={class:"mb-2"},K=k({__name:"ReviewSessionEnd",props:{count:{type:Number,required:!0},percent:{type:Number,required:!0}},emits:["back"],setup(u){return(t,a)=>(i(),p("div",z,[e("div",P,s(t.$t("review.sessionFinished")),1),e("div",G,s(t.$t("review.congrats")),1),e("div",H,s(t.$t("review.cardsReviewed",{count:u.count})),1),e("div",J,s(t.$t("review.successRate",{percent:u.percent})),1),e("button",{class:"mt-6 px-6 py-2 rounded bg-gray-100 text-gray-700 text-base font-medium shadow-sm",onClick:a[0]||(a[0]=w=>t.$emit("back"))},s(t.$t("review.backToCollections")),1)]))}}),L={class:"min-h-screen bg-gray-50 flex flex-col"},O={class:"flex items-center justify-between px-4 pt-4 pb-2"},Q={class:"text-xs text-gray-400 font-medium"},U={class:"text-sm text-gray-600 font-semibold"},W={class:"flex-1 flex flex-col items-center justify-center"},X=k({name:"ReviewSessionPage",__name:"review",setup(u){const t=N(),a=I(),{getCollection:w}=D(),{getDueCards:y,applyAnswer:C}=E(),d=String(t.params.id),x=o(null),l=o([]),n=o(0),v=o(!1),g=o(!1),b=o(0),r=o(0),$=[{value:"false",emoji:"❌",label:"review.again"},{value:"almost",emoji:"➖",label:"review.almost"},{value:"true",emoji:"✅",label:"review.good"}],m=S(()=>l.value[n.value]);function B(){a.push(`/collections/${d}/cards`)}function R(){a.push("/")}function j(f){m.value&&(C(m.value,f),f==="true"&&(b.value+=1),v.value=!1,n.value<l.value.length-1?n.value+=1:g.value=!0)}return M(()=>{x.value=w(d),l.value=y(d),r.value=l.value.length}),(f,c)=>{var h;return i(),p("div",L,[e("div",O,[e("button",{class:"text-gray-500 hover:text-gray-700","aria-label":"Retour",onClick:B},[...c[1]||(c[1]=[e("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e("div",Q,s((h=x.value)==null?void 0:h.name),1),e("div",U,s(n.value+1)+" / "+s(r.value),1)]),e("div",W,[_(A,{name:"fade",mode:"out-in"},{default:T(()=>[g.value?(i(),V(K,{key:"end",count:r.value,percent:Math.round(b.value/r.value*100),onBack:R},null,8,["count","percent"])):(i(),p("div",{key:n.value,class:"w-full flex flex-col items-center"},[_(F,{"current-card":m.value,"show-back":v.value,responses:$,onShowBack:c[0]||(c[0]=Y=>v.value=!0),onAnswer:j},null,8,["current-card","show-back"])]))]),_:1})])])}}}),oe=q(X,[["__scopeId","data-v-d8b9c670"]]);export{oe as default};
